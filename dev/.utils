remote-conundra() {
  # Ensure we're inside a git repo
  if ! git rev-parse --is-inside-work-tree > /dev/null 2>&1; then
    echo "❌ Not inside a git repository."
    return 1
  fi

  # Get the current origin URL
  current_url=$(git remote get-url origin 2>/dev/null)

  if [[ -z "$current_url" ]]; then
    echo "❌ No 'origin' remote found."
    return 1
  fi

  # Only act if it's a gitlab.com URL
  if [[ "$current_url" == git@gitlab.com:* ]]; then
    new_url="${current_url/git@gitlab.com:/git@gitlab-conundra.com:}"
    echo "🔄 Updating origin:"
    echo "   Old: $current_url"
    echo "   New: $new_url"
    git remote set-url origin "$new_url"
    echo "✅ Remote updated."
  else
    echo "ℹ️ Remote is not git@gitlab.com — no changes made."
  fi
}

sound() {
  # Function to switch audio input and output sources
  local mode=$1

  # Auto-detect mode if no parameter is provided
  if [[ -z "$mode" ]]; then
    echo "🔍 No mode specified, auto-detecting..."

    # Get list of available output devices
    local devices=$(SwitchAudioSource -a -t input)

    if echo "$devices" | grep -q "Shure"; then
      echo "🎤 Detected 'Shure', using mike mode"
      mode="mike"
    elif echo "$devices" | grep -q "Michels Shokz"; then
      echo "🎧 Detected 'Michels Shokz', using shokz mode"
      mode="shokz"
    else
      echo "🔈 No specific devices detected, using default mode"
      mode="default"
    fi
  fi

  case "$mode" in
    "default")
      echo "🔊 Switching to default audio settings..."
      SwitchAudioSource -t output -s 'MacBook Pro Speakers'
      SwitchAudioSource -t input -s 'MacBook Pro Microphone'
      ;;
    "shokz")
      echo "🔊 Switching to Shokz audio settings..."
      SwitchAudioSource -t output -s 'Michels Shokz'
      SwitchAudioSource -t input -s 'MacBook Pro Microphone'
      ;;
    "mike")
      echo "🔊 Switching to Mike audio settings..."
      SwitchAudioSource -t output -s 'Michels Shokz'
      SwitchAudioSource -t input -s 'Michels Shokz'
      ;;
    *)
      echo "❌ Unknown audio mode: $mode"
      echo "Available modes: default, shokz, mike"
      return 1
      ;;
  esac
}
