remote-conundra() {
  # Ensure we're inside a git repo
  if ! git rev-parse --is-inside-work-tree > /dev/null 2>&1; then
    echo "❌ Not inside a git repository."
    return 1
  fi

  # Get the current origin URL
  current_url=$(git remote get-url origin 2>/dev/null)

  if [[ -z "$current_url" ]]; then
    echo "❌ No 'origin' remote found."
    return 1
  fi

  # Only act if it's a gitlab.com URL
  if [[ "$current_url" == git@gitlab.com:* ]]; then
    new_url="${current_url/git@gitlab.com:/git@gitlab-conundra.com:}"
    echo "🔄 Updating origin:"
    echo "   Old: $current_url"
    echo "   New: $new_url"
    git remote set-url origin "$new_url"
    echo "✅ Remote updated."
  else
    echo "ℹ️ Remote is not git@gitlab.com — no changes made."
  fi
}

sound() {
  # Function to switch audio input and output sources

  local current_input=$(SwitchAudioSource -c -t input)
  local current_output=$(SwitchAudioSource -c -t output)
  local current_volume=$(osascript -e 'input volume of (get volume settings)')

  local target_input
  local input_devices=$(SwitchAudioSource -a -t input)
  if echo "$input_devices" | grep -q "Shure MV7"; then
    target_input='Shure MV7'
  else
    target_input='MacBook Pro Microphone'
  fi

  local target_output
  local output_devices=$(SwitchAudioSource -a -t output)
  if echo "$output_devices" | grep -q "Michels Shokz"; then
    target_output='Michels Shokz'
  elif echo "$output_devices" | grep -q "WH-1000XM4"; then
    target_output='WH-1000XM4'
  else
    target_output='MacBook Pro Speakers'
  fi

  if [[ "$current_input" == "$target_input" ]]; then
    echo "🎤 Input: $current_input"
  else
    SwitchAudioSource -t input -s "$target_input"
    echo "🎤 Input: $current_input => $target_input"
  fi

  if [[ "$current_output" == "$target_output" ]]; then
    echo "🔊 Output: $current_output"
  else
    SwitchAudioSource -t output -s "$target_output"
    echo "🔊 Output: $current_output => $target_output"
  fi

  if [[ "$current_volume" == "100" ]]; then
    echo "🎛 Volume: $current_volume%"
  else
    osascript -e 'set volume input volume 100'
    echo "🎛 Volume: $current_volume% => 100%"
  fi
}
